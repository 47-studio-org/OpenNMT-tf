

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>opennmt.inputters.load_pretrained_embeddings &mdash; OpenNMT-tf 2.12.1 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.png"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="opennmt.inputters.write_sequence_record" href="opennmt.inputters.write_sequence_record.html" />
    <link rel="prev" title="opennmt.inputters.create_sequence_records" href="opennmt.inputters.create_sequence_records.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> OpenNMT-tf
          

          
            
            <img src="../_static/logo-alpha.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                2.12
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
</ul>
<p class="caption"><span class="caption-text">Configuration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../model.html">Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration.html">Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data.html">Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vocabulary.html">Vocabulary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tokenization.html">Tokenization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../embeddings.html">Embeddings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../alignments.html">Alignments</a></li>
</ul>
<p class="caption"><span class="caption-text">Usage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../training.html">Training</a></li>
<li class="toctree-l1"><a class="reference internal" href="../inference.html">Inference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../serving.html">Serving</a></li>
<li class="toctree-l1"><a class="reference internal" href="../v2_transition.html">2.0 Transition Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">Frequently Asked Questions</a></li>
</ul>
<p class="caption"><span class="caption-text">API</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../api_examples.html">API examples</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="opennmt.html">opennmt module</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="opennmt.html#submodules">Submodules</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="opennmt.data.html">opennmt.data module</a></li>
<li class="toctree-l3"><a class="reference internal" href="opennmt.decoders.html">opennmt.decoders module</a></li>
<li class="toctree-l3"><a class="reference internal" href="opennmt.encoders.html">opennmt.encoders module</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="opennmt.inputters.html">opennmt.inputters module</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="opennmt.inputters.html#classes">Classes</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="opennmt.inputters.html#functions">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="opennmt.layers.html">opennmt.layers module</a></li>
<li class="toctree-l3"><a class="reference internal" href="opennmt.models.html">opennmt.models module</a></li>
<li class="toctree-l3"><a class="reference internal" href="opennmt.optimizers.html">opennmt.optimizers module</a></li>
<li class="toctree-l3"><a class="reference internal" href="opennmt.schedules.html">opennmt.schedules module</a></li>
<li class="toctree-l3"><a class="reference internal" href="opennmt.tokenizers.html">opennmt.tokenizers module</a></li>
<li class="toctree-l3"><a class="reference internal" href="opennmt.utils.html">opennmt.utils module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="opennmt.html#classes">Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="opennmt.html#functions">Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="opennmt.html#constants">Constants</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">OpenNMT-tf</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="opennmt.html">opennmt module</a> &raquo;</li>
        
          <li><a href="opennmt.inputters.html">opennmt.inputters module</a> &raquo;</li>
        
      <li>opennmt.inputters.load_pretrained_embeddings</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="opennmt-inputters-load-pretrained-embeddings">
<h1>opennmt.inputters.load_pretrained_embeddings<a class="headerlink" href="#opennmt-inputters-load-pretrained-embeddings" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="opennmt.inputters.load_pretrained_embeddings">
<code class="sig-prename descclassname">opennmt.inputters.</code><code class="sig-name descname">load_pretrained_embeddings</code><span class="sig-paren">(</span><em class="sig-param">embedding_file</em>, <em class="sig-param">vocabulary_file</em>, <em class="sig-param">num_oov_buckets=1</em>, <em class="sig-param">with_header=True</em>, <em class="sig-param">case_insensitive_embeddings=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/opennmt/inputters/text_inputter.html#load_pretrained_embeddings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#opennmt.inputters.load_pretrained_embeddings" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns pretrained embeddings relative to the vocabulary.</p>
<p>The <code class="xref py py-obj docutils literal notranslate"><span class="pre">embedding_file</span></code> must have the following format:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>N M
word1 val1 val2 ... valM
word2 val1 val2 ... valM
...
wordN val1 val2 ... valM
</pre></div>
</div>
<p>or if <code class="xref py py-obj docutils literal notranslate"><span class="pre">with_header</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>word1 val1 val2 ... valM
word2 val1 val2 ... valM
...
wordN val1 val2 ... valM
</pre></div>
</div>
<p>This function will iterate on each embedding in <code class="xref py py-obj docutils literal notranslate"><span class="pre">embedding_file</span></code> and
assign the pretrained vector to the associated word in <code class="xref py py-obj docutils literal notranslate"><span class="pre">vocabulary_file</span></code>
if found. Otherwise, the embedding is ignored.</p>
<p>If <code class="xref py py-obj docutils literal notranslate"><span class="pre">case_insensitive_embeddings</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>, word embeddings are assumed
to be trained on lowercase data. In that case, word alignments are case
insensitive meaning the pretrained word embedding for “the” will be assigned
to “the”, “The”, “THE”, or any other case variants included in
<code class="xref py py-obj docutils literal notranslate"><span class="pre">vocabulary_file</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>embedding_file</strong> – Path the embedding file. Entries will be matched against
<code class="xref py py-obj docutils literal notranslate"><span class="pre">vocabulary_file</span></code>.</p></li>
<li><p><strong>vocabulary_file</strong> – The vocabulary file containing one word per line.</p></li>
<li><p><strong>num_oov_buckets</strong> – The number of additional unknown tokens.</p></li>
<li><p><strong>with_header</strong> – <code class="docutils literal notranslate"><span class="pre">True</span></code> if the embedding file starts with a header line like
in GloVe embedding files.</p></li>
<li><p><strong>case_insensitive_embeddings</strong> – <code class="docutils literal notranslate"><span class="pre">True</span></code> if embeddings are trained on lowercase
data.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A Numpy array of shape <code class="docutils literal notranslate"><span class="pre">[vocabulary_size</span> <span class="pre">+</span> <span class="pre">num_oov_buckets,</span> <span class="pre">embedding_size]</span></code>.</p>
</dd>
</dl>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="opennmt.inputters.write_sequence_record.html" class="btn btn-neutral float-right" title="opennmt.inputters.write_sequence_record" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="opennmt.inputters.create_sequence_records.html" class="btn btn-neutral float-left" title="opennmt.inputters.create_sequence_records" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>